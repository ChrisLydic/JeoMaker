var bootState={preload:function(){game.load.image("progressBar","../assets/progressBar.png")},create:function(){game.stage.backgroundColor=DARK_BLUE,game.physics.startSystem(Phaser.Physics.ARCADE),game.state.start("load")}},loadState={preload:function(){var a=game.add.sprite(game.world.centerX,game.world.centerY,"progressBar");a.anchor.setTo(.5,.5),game.load.setPreloadSprite(a),game.load.image("button","../assets/empty.png"),game.load.image("red","../assets/avatars/red.png")},create:function(){game.state.start("menu")}},menuState={create:function(){this.makeMenu()},startMake:function(){game.state.start("makeMenu")},play:function(){game.state.start("playMenu")},credits:function(){game.world.removeAll()},makeMenu:function(){var a=game.add.text(game.world.centerX,game.world.centerY-85,"JeoMaker",{font:"60px Arial",fill:"#FFFFFF"});a.anchor.setTo(.5,.5);new LabelButton("Create a New Game","30px Arial","#FFFFFF","center",!1,game,game.world.centerX,game.world.centerY-10,"button",this.startMake,this),new LabelButton("Play","30px Arial","#FFFFFF","center",!1,game,game.world.centerX,game.world.centerY+40,"button",this.play,this),new LabelButton("Credits","30px Arial","#FFFFFF","center",!1,game,game.world.centerX,game.world.centerY+90,"button",this.credits,this)}},makeMenuState={create:function(){this.build()},makeStart:function(a){currBoard=new Jeo(a),game.state.start("make")},build:function(){new LabelButton("One Round","30px Arial","#FFFFFF","center",!1,game,game.world.centerX,game.world.centerY-50,"button",partial(this.makeStart,!1),this),game.add.text(game.world.centerX,game.world.centerY,"Description",{font:"12px Arial",fill:"#FFFFFF",wordWrap:!0,wordWrapWidth:w/2}),new LabelButton("Double","30px Arial","#FFFFFF","center",!1,game,game.world.centerX,game.world.centerY-10,"button",partial(this.makeStart,!0),this),game.add.text(game.world.centerX,game.world.centerY,"Description",{font:"12px Arial",fill:"#FFFFFF",wordWrap:!0,wordWrapWidth:w/2})}},playMenuState={create:function(){this.build()},play:function(){game.state.start("play")},build:function(){}},makeState={create:function(){switch(currBoard.curr){case"1":this.currBoard=currBoard.b1;break;case"2":this.currBoard=currBoard.b2}this.build()},update:function(){var a;for(a=0;a<this.buttons.length;a++)this.buttons[a].isOver()},build:function(){layers={bgLayer:this.add.group(),btnLayer:this.add.group(),textLayer:this.add.group(),popUpLayer:this.add.group()},this.buttons=[];var a,b,c,d,e,f,g,h,i="aq",j="topic";for(b=0;6>b;b++)for(var c=0;6>c;c++){posX=PADDING*(c+1)+widthBox*c,posY=PADDING*(b+1)+heightBox*b,0===b?(a=LIGHT_BLUE,g=[c],h=j,e=this.currBoard.topics[c],f=e.length<13?.3*heightBox:e.length<30?.25*heightBox:.2*heightBox,d={font:f+"px Arial",fill:LABEL_WHITE,align:"center",wordWrap:!0,wordWrapWidth:widthBox}):(a=this.currBoard.board[b-1][c].isComplete()?PURPLE:BLUE,g=[b-1,c],h=i,e=this.currBoard.money[b-1],d={font:.6*heightBox+"px Arial",fill:LABEL_BLUE});var k=game.add.text(posX+widthBox/2,posY+heightBox/2,e,d);k.anchor.setTo(.5,.5),layers.textLayer.add(k),this.buttons.push(new RectButton(posX,posY,widthBox,heightBox,a,partial(this.promptRunner,h,g)))}var l=game.add.graphics(0,0);layers.bgLayer.add(l),l.beginFill(LIGHT_BLUE),l.drawRect(0,7*PADDING+6*heightBox,w,MENU_BAR_HEIGHT),l.endFill();var m=PADDING/2,n=7*PADDING+6*heightBox+m,o=50,p=200,q=100,r={font:"30px Arial",fill:LABEL_WHITE};if(currBoard.isDouble){this.buttons.push(new RectButton(w/2-(1.5*p+m),n,p,o,BLUE,partial(this.promptRunner,h,g))),this.buttons.push(new RectButton(w/2-p/2,n,p,o,BLUE,partial(this.promptRunner,h,g))),this.buttons.push(new RectButton(w/2+(p/2+m),n,p,o,BLUE,partial(this.promptRunner,h,g)));var s=game.add.text(w/2-(1.5*p+m)+p/2,n+o/2,"Normal",r);s.anchor.setTo(.5,.5),layers.textLayer.add(s);var t=game.add.text(w/2-p/2+p/2,n+o/2,"Double",r);t.anchor.setTo(.5,.5),layers.textLayer.add(t);var u=game.add.text(w/2+(p/2+m)+p/2,n+o/2,"Final Q",r);u.anchor.setTo(.5,.5),layers.textLayer.add(u)}else{this.buttons.push(new RectButton(w/2-(p+m/2),n,p,o,BLUE,partial(this.promptRunner,h,g))),this.buttons.push(new RectButton(w/2+m/2,n,p,o,BLUE,partial(this.promptRunner,h,g)));var s=game.add.text(w/2-(p+m/2)+p/2,n+o/2,"Normal",r);s.anchor.setTo(.5,.5),layers.textLayer.add(s);var t=game.add.text(w/2+m/2+p/2,n+o/2,"Final Q",r);t.anchor.setTo(.5,.5),layers.textLayer.add(t)}this.buttons.push(new RectButton(m,n,q,o,BLUE,partial(this.popUp,"menu"))),this.buttons.push(new RectButton(w-(m+100),n,q,o,BLUE,partial()));var s=game.add.text(m+q/2,n+o/2,"Menu",r);s.anchor.setTo(.5,.5),layers.textLayer.add(s);var t=game.add.text(w-(m+100)+q/2,n+o/2,"Save",r);t.anchor.setTo(.5,.5),layers.textLayer.add(t)},getInput:function(b){var c=document.getElementById(b);"aq"===b?(a=c.elements.answer.value,q=c.elements.question.value,this.updateAQ(a,q)):"topic"===b&&(topic=c.elements.topicText.value,this.updateTopic(topic)),document.getElementById(b+"Form").style.display="none",this.build()},promptRunner:function(a,b){window.ref=b;var c=makeState.currBoard,d=document.getElementById(a);"aq"===a?(d.elements.answer.value=c.board[window.ref[0]][window.ref[1]].a,d.elements.question.value=c.board[window.ref[0]][window.ref[1]].q):"topic"===a&&(d.elements.topicText.value=c.topics[window.ref[0]]),document.getElementById(a+"Form").style.display="flex"},updateTopic:function(a){this.currBoard.topics[window.ref[0]]=a},updateAQ:function(a,b){this.currBoard.board[window.ref[0]][window.ref[1]].update(a,b)},popUp:function(a){var b=300,c=200;switch(a){case"menu":var d=game.add.graphics(0,0);layers.popUpLayer.add(d),d.beginFill(BLUE),d.drawRect(w/2-(b+5)/2,h/2-(c+5)/2,b+5,c+5),d.endFill(),d.beginFill(DARK_BLUE),d.drawRect(w/2-b/2,h/2-c/2,b,c),d.endFill();break;case"save":layers.btnLayer.destroy();break;case"saveErr":}}},playState={create:function(){switch(currBoard.curr){case"1":this.currBoard=currBoard.b1;break;case"2":this.currBoard=currBoard.b2}this.build()},update:function(){},build:function(a){}},w=window.innerWidth,h=window.innerHeight,game=new Phaser.Game(w,h,Phaser.AUTO,"gameDiv"),currBoard,LIGHT_BLUE=39423,BLUE=22015,DARK_BLUE=204,PURPLE=4469708,WHITE=16777215,LABEL_WHITE="#FFFFFF",LABEL_YELLOW="#FFCC33",LABEL_BLUE="#CCFFFF",PADDING=20,MENU_BAR_HEIGHT=70,heightBox,widthBox,calcBoxDim=function(){heightBox=(h-(MENU_BAR_HEIGHT+7*PADDING))/6,widthBox=(w-7*PADDING)/6};calcBoxDim();var partial=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=b.concat(Array.prototype.slice.call(arguments));return a.apply(this,c)}},AQ=function(){this.a="Answer",this.q="Question"};AQ.prototype.constructor=AQ,AQ.prototype.update=function(a,b){this.a=a,this.q=b},AQ.prototype.isComplete=function(){return"Answer"===this.a||"Question"===this.q?!1:!0};var Board=function(a){this.isDouble=a,this.topics=["Topic","Topic","Topic","Topic","Topic","Topic"],this.board=[];for(var b=0;5>b;b++)this.board[b]=[new AQ,new AQ,new AQ,new AQ,new AQ,new AQ];this.isDouble?this.money=["$400","$800","$1200","$1600","$2000"]:this.money=["$200","$400","$600","$800","$1000"]};Board.prototype.constructor=Board;var Jeo=function(a){this.curr="1",this.isDouble=a,this.b1=new Board(!1),this.isDouble&&(this.b2=new Board(!0))};Jeo.prototype.constructor=Jeo,Jeo.prototype.setFinalQ=function(a,b){this.finalQ=new AQ,this.finalQ.update(a,b)},Jeo.prototype.updateFinalQ=function(a,b){this.finalQ.update(a,b)},Jeo.prototype.isComplete=function(){return this.isDouble?this.checkBoards(this.b1)&&this.checkBoards(this.b2):this.checkBoards(this.b1)},Jeo.prototype.checkBoards=function(a){for(var b=0;b<a.topics.length;b++)if("Topic"===a.topics[b])return!1;for(var b=0;b<a.board.length;b++)for(var c=0;c<a.board[b].length;c++)if(!a.board[b][c].isComplete())return!1;return void 0!==this.finalQ?!0:!1};var Player=function(a,b){this.name=a,this.avatar=b,this.score=0};Player.prototype.constructor=Player,Player.prototype.changeScore=function(a){score+=a},Player.prototype.edit=function(a,b){this.name=a,this.avatar=b};var RectButton=function(a,b,c,d,e,f){this.isIn=!1,this.x=a,this.y=b,this.width=c,this.height=d,this.color=e,this.down=f,this.btn=new Phaser.Rectangle(this.x,this.y,this.width,this.height);var g=new Phaser.Rectangle(this.x,this.y,this.width,this.height);this.graphics=game.add.graphics(0,0),void 0!==typeof layers&&layers.btnLayer.add(this.graphics),this.draw(this.color,1);var h=function(a){g.contains(a.x,a.y)&&f()};game.input.onDown.add(h)};RectButton.prototype.constructor=RectButton,RectButton.prototype.isOver=function(){this.btn.contains(game.input.mousePointer.x,game.input.mousePointer.y)&&!this.isIn?(this.draw(16777215,.1),this.isIn=!0):!this.btn.contains(game.input.mousePointer.x,game.input.mousePointer.y)&&this.isIn&&(this.draw(this.color,1),this.isIn=!1)},RectButton.prototype.draw=function(a,b){this.graphics.beginFill(a,b),this.graphics.drawRect(this.x,this.y,this.width,this.height),this.graphics.endFill()};var LabelButton=function(a,b,c,d,e,f,g,h,i,j,k){Phaser.Button.call(this,f,g,h,i,j,k),this.anchor.setTo(.5,.5),this.label=new Phaser.Text(f,0,0,a,{font:b,fill:c,align:d,wordWrap:e,wordWrapWidth:widthBox}),this.label.anchor.setTo(.5,.5),this.addChild(this.label),this.setLabel(a),f.add.existing(this)};LabelButton.prototype=Object.create(Phaser.Button.prototype),LabelButton.prototype.constructor=LabelButton,LabelButton.prototype.setLabel=function(a){this.label.setText(a)},game.state.add("boot",bootState),game.state.add("load",loadState),game.state.add("menu",menuState),game.state.add("makeMenu",makeMenuState),game.state.add("playMenu",playMenuState),game.state.add("make",makeState),game.state.add("play",playState),game.state.start("boot");
//# sourceMappingURL=sourceMap.map